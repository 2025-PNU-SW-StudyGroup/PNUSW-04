import { Area, AreaChart, Bar, BarChart, CartesianGrid, LabelList, XAxis, YAxis } from "recharts"

import { Card } from "@/components/ui/card"
import {
  type ChartConfig,
  ChartContainer,
  ChartTooltip,
  ChartTooltipContent,
} from "@/components/ui/chart"
import { tsFormatter } from "~core"
import { useState } from "react"
import { Crown } from "lucide-react"

export interface RankProps {
  data: RankCardProps[]
}

const SAMPLE: RankProps = {
  data: [
    {
      name: "John Doe",
      data: [
        [
          1750982400000,
          42992
        ],
        [
          1750896000000,
          32849
        ],
        [
          1750809600000,
          85795
        ],
        [
          1750723200000,
          28898
        ],
        [
          1750636800000,
          14981
        ],
        [
          1750550400000,
          70097
        ],
        [
          1750464000000,
          71238
        ],
        [
          1750377600000,
          50707
        ],
        [
          1750291200000,
          70837
        ],
        [
          1750204800000,
          77499
        ],
        [
          1750118400000,
          897
        ],
        [
          1750032000000,
          70407
        ],
        [
          1749945600000,
          63448
        ],
        [
          1749859200000,
          5112
        ],
        [
          1749772800000,
          44467
        ],
        [
          1749686400000,
          41870
        ],
        [
          1749600000000,
          62267
        ],
        [
          1749513600000,
          58102
        ],
        [
          1749427200000,
          40386
        ],
        [
          1749340800000,
          52261
        ],
        [
          1749254400000,
          49793
        ],
        [
          1749168000000,
          18689
        ],
        [
          1749081600000,
          72585
        ],
        [
          1748995200000,
          80813
        ],
        [
          1748908800000,
          19990
        ],
        [
          1748822400000,
          8985
        ],
        [
          1748736000000,
          22733
        ],
        [
          1748649600000,
          33572
        ],
        [
          1748563200000,
          19788
        ],
        [
          1748476800000,
          50414
        ],
        [
          1748390400000,
          31278
        ],
        [
          1748304000000,
          2993
        ],
        [
          1748217600000,
          18558
        ],
        [
          1748131200000,
          75653
        ],
        [
          1748044800000,
          65965
        ],
        [
          1747958400000,
          52025
        ],
        [
          1747872000000,
          64005
        ],
        [
          1747785600000,
          64043
        ],
        [
          1747699200000,
          25377
        ],
        [
          1747612800000,
          13275
        ],
        [
          1747526400000,
          41332
        ],
        [
          1747440000000,
          84810
        ],
        [
          1747353600000,
          80673
        ],
        [
          1747267200000,
          44010
        ],
        [
          1747180800000,
          72064
        ],
        [
          1747094400000,
          43412
        ],
        [
          1747008000000,
          36982
        ],
        [
          1746921600000,
          40391
        ],
        [
          1746835200000,
          67586
        ],
        [
          1746748800000,
          8010
        ],
        [
          1746662400000,
          26664
        ],
        [
          1746576000000,
          35812
        ],
        [
          1746489600000,
          19324
        ],
        [
          1746403200000,
          30866
        ],
        [
          1746316800000,
          36342
        ],
        [
          1746230400000,
          6504
        ],
        [
          1746144000000,
          37480
        ],
        [
          1746057600000,
          21852
        ],
        [
          1745971200000,
          7986
        ],
        [
          1745884800000,
          16587
        ],
        [
          1745798400000,
          4564
        ],
        [
          1745712000000,
          59150
        ],
        [
          1745625600000,
          82416
        ],
        [
          1745539200000,
          13701
        ],
        [
          1745452800000,
          80632
        ],
        [
          1745366400000,
          59523
        ],
        [
          1745280000000,
          79980
        ],
        [
          1745193600000,
          34224
        ],
        [
          1745107200000,
          81938
        ],
        [
          1745020800000,
          25924
        ],
        [
          1744934400000,
          45415
        ],
        [
          1744848000000,
          29875
        ],
        [
          1744761600000,
          61407
        ],
        [
          1744675200000,
          26238
        ],
        [
          1744588800000,
          7768
        ],
        [
          1744502400000,
          1737
        ],
        [
          1744416000000,
          23120
        ],
        [
          1744329600000,
          44656
        ],
        [
          1744243200000,
          40776
        ],
        [
          1744156800000,
          75205
        ],
        [
          1744070400000,
          11670
        ],
        [
          1743984000000,
          55279
        ],
        [
          1743897600000,
          8860
        ],
        [
          1743811200000,
          67739
        ],
        [
          1743724800000,
          48693
        ],
        [
          1743638400000,
          33506
        ],
        [
          1743552000000,
          30594
        ],
        [
          1743465600000,
          52454
        ],
        [
          1743379200000,
          19482
        ],
        [
          1743292800000,
          79795
        ],
        [
          1743206400000,
          71033
        ],
        [
          1743120000000,
          30097
        ],
        [
          1743033600000,
          13521
        ],
        [
          1742947200000,
          25661
        ],
        [
          1742860800000,
          9512
        ],
        [
          1742774400000,
          51977
        ],
        [
          1742688000000,
          1701
        ],
        [
          1742601600000,
          8510
        ],
        [
          1742515200000,
          63716
        ],
        [
          1742428800000,
          67820
        ]
      ],
      mean: 0,
      total: 0,
    },
    {
      name: 'Foo Bar',
      data: [
        [
          1750982400000,
          14314
        ],
        [
          1750896000000,
          25241
        ],
        [
          1750809600000,
          15902
        ],
        [
          1750723200000,
          45404
        ],
        [
          1750636800000,
          82948
        ],
        [
          1750550400000,
          6980
        ],
        [
          1750464000000,
          14022
        ],
        [
          1750377600000,
          37544
        ],
        [
          1750291200000,
          36338
        ],
        [
          1750204800000,
          65286
        ],
        [
          1750118400000,
          75300
        ],
        [
          1750032000000,
          9480
        ],
        [
          1749945600000,
          17944
        ],
        [
          1749859200000,
          53087
        ],
        [
          1749772800000,
          21938
        ],
        [
          1749686400000,
          51449
        ],
        [
          1749600000000,
          45122
        ],
        [
          1749513600000,
          5969
        ],
        [
          1749427200000,
          43365
        ],
        [
          1749340800000,
          45011
        ],
        [
          1749254400000,
          61392
        ],
        [
          1749168000000,
          60660
        ],
        [
          1749081600000,
          35122
        ],
        [
          1748995200000,
          86310
        ],
        [
          1748908800000,
          32558
        ],
        [
          1748822400000,
          34389
        ],
        [
          1748736000000,
          21317
        ],
        [
          1748649600000,
          538
        ],
        [
          1748563200000,
          49856
        ],
        [
          1748476800000,
          32244
        ],
        [
          1748390400000,
          60659
        ],
        [
          1748304000000,
          5973
        ],
        [
          1748217600000,
          30339
        ],
        [
          1748131200000,
          27586
        ],
        [
          1748044800000,
          46580
        ],
        [
          1747958400000,
          50329
        ],
        [
          1747872000000,
          77058
        ],
        [
          1747785600000,
          51183
        ],
        [
          1747699200000,
          1322
        ],
        [
          1747612800000,
          29933
        ],
        [
          1747526400000,
          29037
        ],
        [
          1747440000000,
          24691
        ],
        [
          1747353600000,
          84161
        ],
        [
          1747267200000,
          80984
        ],
        [
          1747180800000,
          85099
        ],
        [
          1747094400000,
          30418
        ],
        [
          1747008000000,
          23625
        ],
        [
          1746921600000,
          49074
        ],
        [
          1746835200000,
          68592
        ],
        [
          1746748800000,
          57995
        ],
        [
          1746662400000,
          39873
        ],
        [
          1746576000000,
          77359
        ],
        [
          1746489600000,
          2344
        ],
        [
          1746403200000,
          72528
        ],
        [
          1746316800000,
          80007
        ],
        [
          1746230400000,
          54474
        ],
        [
          1746144000000,
          7071
        ],
        [
          1746057600000,
          30973
        ],
        [
          1745971200000,
          82431
        ],
        [
          1745884800000,
          74223
        ],
        [
          1745798400000,
          9530
        ],
        [
          1745712000000,
          46059
        ],
        [
          1745625600000,
          27631
        ],
        [
          1745539200000,
          65706
        ],
        [
          1745452800000,
          85944
        ],
        [
          1745366400000,
          27914
        ],
        [
          1745280000000,
          56618
        ],
        [
          1745193600000,
          35702
        ],
        [
          1745107200000,
          69209
        ],
        [
          1745020800000,
          72427
        ],
        [
          1744934400000,
          49141
        ],
        [
          1744848000000,
          52023
        ],
        [
          1744761600000,
          18485
        ],
        [
          1744675200000,
          14096
        ],
        [
          1744588800000,
          78469
        ],
        [
          1744502400000,
          30544
        ],
        [
          1744416000000,
          36776
        ],
        [
          1744329600000,
          54943
        ],
        [
          1744243200000,
          49710
        ],
        [
          1744156800000,
          61554
        ],
        [
          1744070400000,
          82324
        ],
        [
          1743984000000,
          65443
        ],
        [
          1743897600000,
          329
        ],
        [
          1743811200000,
          67414
        ],
        [
          1743724800000,
          38580
        ],
        [
          1743638400000,
          79539
        ],
        [
          1743552000000,
          77668
        ],
        [
          1743465600000,
          9188
        ],
        [
          1743379200000,
          74765
        ],
        [
          1743292800000,
          10605
        ],
        [
          1743206400000,
          6027
        ],
        [
          1743120000000,
          54414
        ],
        [
          1743033600000,
          56438
        ],
        [
          1742947200000,
          80268
        ],
        [
          1742860800000,
          71095
        ],
        [
          1742774400000,
          48023
        ],
        [
          1742688000000,
          32572
        ],
        [
          1742601600000,
          82871
        ],
        [
          1742515200000,
          12881
        ],
        [
          1742428800000,
          85592
        ]
      ],
      mean: 0,
      total: 0,
    },
    {
      name: 'Kenny Kim',
      data: [
        [
          1750982400000,
          28936
        ],
        [
          1750896000000,
          42267
        ],
        [
          1750809600000,
          84761
        ],
        [
          1750723200000,
          68470
        ],
        [
          1750636800000,
          80564
        ],
        [
          1750550400000,
          37227
        ],
        [
          1750464000000,
          19652
        ],
        [
          1750377600000,
          49217
        ],
        [
          1750291200000,
          26668
        ],
        [
          1750204800000,
          26364
        ],
        [
          1750118400000,
          52520
        ],
        [
          1750032000000,
          72255
        ],
        [
          1749945600000,
          7940
        ],
        [
          1749859200000,
          41137
        ],
        [
          1749772800000,
          47684
        ],
        [
          1749686400000,
          15237
        ],
        [
          1749600000000,
          30629
        ],
        [
          1749513600000,
          82095
        ],
        [
          1749427200000,
          21365
        ],
        [
          1749340800000,
          51364
        ],
        [
          1749254400000,
          19559
        ],
        [
          1749168000000,
          3594
        ],
        [
          1749081600000,
          69732
        ],
        [
          1748995200000,
          31234
        ],
        [
          1748908800000,
          12911
        ],
        [
          1748822400000,
          48184
        ],
        [
          1748736000000,
          8067
        ],
        [
          1748649600000,
          38379
        ],
        [
          1748563200000,
          43720
        ],
        [
          1748476800000,
          28488
        ],
        [
          1748390400000,
          67844
        ],
        [
          1748304000000,
          3682
        ],
        [
          1748217600000,
          24699
        ],
        [
          1748131200000,
          80390
        ],
        [
          1748044800000,
          61503
        ],
        [
          1747958400000,
          70491
        ],
        [
          1747872000000,
          76123
        ],
        [
          1747785600000,
          49947
        ],
        [
          1747699200000,
          224
        ],
        [
          1747612800000,
          22292
        ],
        [
          1747526400000,
          36905
        ],
        [
          1747440000000,
          82735
        ],
        [
          1747353600000,
          35085
        ],
        [
          1747267200000,
          44964
        ],
        [
          1747180800000,
          56068
        ],
        [
          1747094400000,
          34034
        ],
        [
          1747008000000,
          69153
        ],
        [
          1746921600000,
          27810
        ],
        [
          1746835200000,
          17574
        ],
        [
          1746748800000,
          17903
        ],
        [
          1746662400000,
          74111
        ],
        [
          1746576000000,
          26070
        ],
        [
          1746489600000,
          13429
        ],
        [
          1746403200000,
          58811
        ],
        [
          1746316800000,
          76862
        ],
        [
          1746230400000,
          51921
        ],
        [
          1746144000000,
          19830
        ],
        [
          1746057600000,
          61039
        ],
        [
          1745971200000,
          70187
        ],
        [
          1745884800000,
          18864
        ],
        [
          1745798400000,
          37312
        ],
        [
          1745712000000,
          44795
        ],
        [
          1745625600000,
          42376
        ],
        [
          1745539200000,
          81894
        ],
        [
          1745452800000,
          18530
        ],
        [
          1745366400000,
          72842
        ],
        [
          1745280000000,
          22115
        ],
        [
          1745193600000,
          59345
        ],
        [
          1745107200000,
          11904
        ],
        [
          1745020800000,
          56786
        ],
        [
          1744934400000,
          9857
        ],
        [
          1744848000000,
          34318
        ],
        [
          1744761600000,
          70544
        ],
        [
          1744675200000,
          17583
        ],
        [
          1744588800000,
          67303
        ],
        [
          1744502400000,
          55263
        ],
        [
          1744416000000,
          20390
        ],
        [
          1744329600000,
          12065
        ],
        [
          1744243200000,
          56704
        ],
        [
          1744156800000,
          63842
        ],
        [
          1744070400000,
          18486
        ],
        [
          1743984000000,
          76133
        ],
        [
          1743897600000,
          11824
        ],
        [
          1743811200000,
          32835
        ],
        [
          1743724800000,
          51201
        ],
        [
          1743638400000,
          14914
        ],
        [
          1743552000000,
          86195
        ],
        [
          1743465600000,
          19447
        ],
        [
          1743379200000,
          61596
        ],
        [
          1743292800000,
          52162
        ],
        [
          1743206400000,
          7699
        ],
        [
          1743120000000,
          10784
        ],
        [
          1743033600000,
          52447
        ],
        [
          1742947200000,
          33983
        ],
        [
          1742860800000,
          41054
        ],
        [
          1742774400000,
          48355
        ],
        [
          1742688000000,
          21916
        ],
        [
          1742601600000,
          20630
        ],
        [
          1742515200000,
          20958
        ],
        [
          1742428800000,
          432
        ]
      ],
      mean: 0,
      total: 0,
    },
    {
      name: "John Eoe",
      data: [
        [
          1750982400000,
          42992
        ],
        [
          1750896000000,
          32849
        ],
        [
          1750809600000,
          85795
        ],
        [
          1750723200000,
          28898
        ],
        [
          1750636800000,
          14981
        ],
        [
          1750550400000,
          70097
        ],
        [
          1750464000000,
          71238
        ],
        [
          1750377600000,
          50707
        ],
        [
          1750291200000,
          70837
        ],
        [
          1750204800000,
          77499
        ],
        [
          1750118400000,
          897
        ],
        [
          1750032000000,
          70407
        ],
        [
          1749945600000,
          63448
        ],
        [
          1749859200000,
          5112
        ],
        [
          1749772800000,
          44467
        ],
        [
          1749686400000,
          41870
        ],
        [
          1749600000000,
          62267
        ],
        [
          1749513600000,
          58102
        ],
        [
          1749427200000,
          40386
        ],
        [
          1749340800000,
          52261
        ],
        [
          1749254400000,
          49793
        ],
        [
          1749168000000,
          18689
        ],
        [
          1749081600000,
          72585
        ],
        [
          1748995200000,
          80813
        ],
        [
          1748908800000,
          19990
        ],
        [
          1748822400000,
          8985
        ],
        [
          1748736000000,
          22733
        ],
        [
          1748649600000,
          33572
        ],
        [
          1748563200000,
          19788
        ],
        [
          1748476800000,
          50414
        ],
        [
          1748390400000,
          31278
        ],
        [
          1748304000000,
          2993
        ],
        [
          1748217600000,
          18558
        ],
        [
          1748131200000,
          75653
        ],
        [
          1748044800000,
          65965
        ],
        [
          1747958400000,
          52025
        ],
        [
          1747872000000,
          64005
        ],
        [
          1747785600000,
          64043
        ],
        [
          1747699200000,
          25377
        ],
        [
          1747612800000,
          13275
        ],
        [
          1747526400000,
          41332
        ],
        [
          1747440000000,
          84810
        ],
        [
          1747353600000,
          80673
        ],
        [
          1747267200000,
          44010
        ],
        [
          1747180800000,
          72064
        ],
        [
          1747094400000,
          43412
        ],
        [
          1747008000000,
          36982
        ],
        [
          1746921600000,
          40391
        ],
        [
          1746835200000,
          67586
        ],
        [
          1746748800000,
          8010
        ],
        [
          1746662400000,
          26664
        ],
        [
          1746576000000,
          35812
        ],
        [
          1746489600000,
          19324
        ],
        [
          1746403200000,
          30866
        ],
        [
          1746316800000,
          36342
        ],
        [
          1746230400000,
          6504
        ],
        [
          1746144000000,
          37480
        ],
        [
          1746057600000,
          21852
        ],
        [
          1745971200000,
          7986
        ],
        [
          1745884800000,
          16587
        ],
        [
          1745798400000,
          4564
        ],
        [
          1745712000000,
          59150
        ],
        [
          1745625600000,
          82416
        ],
        [
          1745539200000,
          13701
        ],
        [
          1745452800000,
          80632
        ],
        [
          1745366400000,
          59523
        ],
        [
          1745280000000,
          79980
        ],
        [
          1745193600000,
          34224
        ],
        [
          1745107200000,
          81938
        ],
        [
          1745020800000,
          25924
        ],
        [
          1744934400000,
          45415
        ],
        [
          1744848000000,
          29875
        ],
        [
          1744761600000,
          61407
        ],
        [
          1744675200000,
          26238
        ],
        [
          1744588800000,
          7768
        ],
        [
          1744502400000,
          1737
        ],
        [
          1744416000000,
          23120
        ],
        [
          1744329600000,
          44656
        ],
        [
          1744243200000,
          40776
        ],
        [
          1744156800000,
          75205
        ],
        [
          1744070400000,
          11670
        ],
        [
          1743984000000,
          55279
        ],
        [
          1743897600000,
          8860
        ],
        [
          1743811200000,
          67739
        ],
        [
          1743724800000,
          48693
        ],
        [
          1743638400000,
          33506
        ],
        [
          1743552000000,
          30594
        ],
        [
          1743465600000,
          52454
        ],
        [
          1743379200000,
          19482
        ],
        [
          1743292800000,
          79795
        ],
        [
          1743206400000,
          71033
        ],
        [
          1743120000000,
          30097
        ],
        [
          1743033600000,
          13521
        ],
        [
          1742947200000,
          25661
        ],
        [
          1742860800000,
          9512
        ],
        [
          1742774400000,
          51977
        ],
        [
          1742688000000,
          1701
        ],
        [
          1742601600000,
          8510
        ],
        [
          1742515200000,
          63716
        ],
        [
          1742428800000,
          67820
        ]
      ],
      mean: 0,
      total: 0,
    },
    {
      name: 'Fgoo Bar',
      data: [
        [
          1750982400000,
          14314
        ],
        [
          1750896000000,
          25241
        ],
        [
          1750809600000,
          15902
        ],
        [
          1750723200000,
          45404
        ],
        [
          1750636800000,
          82948
        ],
        [
          1750550400000,
          6980
        ],
        [
          1750464000000,
          14022
        ],
        [
          1750377600000,
          37544
        ],
        [
          1750291200000,
          36338
        ],
        [
          1750204800000,
          65286
        ],
        [
          1750118400000,
          75300
        ],
        [
          1750032000000,
          9480
        ],
        [
          1749945600000,
          17944
        ],
        [
          1749859200000,
          53087
        ],
        [
          1749772800000,
          21938
        ],
        [
          1749686400000,
          51449
        ],
        [
          1749600000000,
          45122
        ],
        [
          1749513600000,
          5969
        ],
        [
          1749427200000,
          43365
        ],
        [
          1749340800000,
          45011
        ],
        [
          1749254400000,
          61392
        ],
        [
          1749168000000,
          60660
        ],
        [
          1749081600000,
          35122
        ],
        [
          1748995200000,
          86310
        ],
        [
          1748908800000,
          32558
        ],
        [
          1748822400000,
          34389
        ],
        [
          1748736000000,
          21317
        ],
        [
          1748649600000,
          538
        ],
        [
          1748563200000,
          49856
        ],
        [
          1748476800000,
          32244
        ],
        [
          1748390400000,
          60659
        ],
        [
          1748304000000,
          5973
        ],
        [
          1748217600000,
          30339
        ],
        [
          1748131200000,
          27586
        ],
        [
          1748044800000,
          46580
        ],
        [
          1747958400000,
          50329
        ],
        [
          1747872000000,
          77058
        ],
        [
          1747785600000,
          51183
        ],
        [
          1747699200000,
          1322
        ],
        [
          1747612800000,
          29933
        ],
        [
          1747526400000,
          29037
        ],
        [
          1747440000000,
          24691
        ],
        [
          1747353600000,
          84161
        ],
        [
          1747267200000,
          80984
        ],
        [
          1747180800000,
          85099
        ],
        [
          1747094400000,
          30418
        ],
        [
          1747008000000,
          23625
        ],
        [
          1746921600000,
          49074
        ],
        [
          1746835200000,
          68592
        ],
        [
          1746748800000,
          57995
        ],
        [
          1746662400000,
          39873
        ],
        [
          1746576000000,
          77359
        ],
        [
          1746489600000,
          2344
        ],
        [
          1746403200000,
          72528
        ],
        [
          1746316800000,
          80007
        ],
        [
          1746230400000,
          54474
        ],
        [
          1746144000000,
          7071
        ],
        [
          1746057600000,
          30973
        ],
        [
          1745971200000,
          82431
        ],
        [
          1745884800000,
          74223
        ],
        [
          1745798400000,
          9530
        ],
        [
          1745712000000,
          46059
        ],
        [
          1745625600000,
          27631
        ],
        [
          1745539200000,
          65706
        ],
        [
          1745452800000,
          85944
        ],
        [
          1745366400000,
          27914
        ],
        [
          1745280000000,
          56618
        ],
        [
          1745193600000,
          35702
        ],
        [
          1745107200000,
          69209
        ],
        [
          1745020800000,
          72427
        ],
        [
          1744934400000,
          49141
        ],
        [
          1744848000000,
          52023
        ],
        [
          1744761600000,
          18485
        ],
        [
          1744675200000,
          14096
        ],
        [
          1744588800000,
          78469
        ],
        [
          1744502400000,
          30544
        ],
        [
          1744416000000,
          36776
        ],
        [
          1744329600000,
          54943
        ],
        [
          1744243200000,
          49710
        ],
        [
          1744156800000,
          61554
        ],
        [
          1744070400000,
          82324
        ],
        [
          1743984000000,
          65443
        ],
        [
          1743897600000,
          329
        ],
        [
          1743811200000,
          67414
        ],
        [
          1743724800000,
          38580
        ],
        [
          1743638400000,
          79539
        ],
        [
          1743552000000,
          77668
        ],
        [
          1743465600000,
          9188
        ],
        [
          1743379200000,
          74765
        ],
        [
          1743292800000,
          10605
        ],
        [
          1743206400000,
          6027
        ],
        [
          1743120000000,
          54414
        ],
        [
          1743033600000,
          56438
        ],
        [
          1742947200000,
          80268
        ],
        [
          1742860800000,
          71095
        ],
        [
          1742774400000,
          48023
        ],
        [
          1742688000000,
          32572
        ],
        [
          1742601600000,
          82871
        ],
        [
          1742515200000,
          12881
        ],
        [
          1742428800000,
          85592
        ]
      ],
      mean: 0,
      total: 0,
    },
    {
      name: 'Genny Kim',
      data: [
        [
          1750982400000,
          28936
        ],
        [
          1750896000000,
          42267
        ],
        [
          1750809600000,
          84761
        ],
        [
          1750723200000,
          68470
        ],
        [
          1750636800000,
          80564
        ],
        [
          1750550400000,
          37227
        ],
        [
          1750464000000,
          19652
        ],
        [
          1750377600000,
          49217
        ],
        [
          1750291200000,
          26668
        ],
        [
          1750204800000,
          26364
        ],
        [
          1750118400000,
          52520
        ],
        [
          1750032000000,
          72255
        ],
        [
          1749945600000,
          7940
        ],
        [
          1749859200000,
          41137
        ],
        [
          1749772800000,
          47684
        ],
        [
          1749686400000,
          15237
        ],
        [
          1749600000000,
          30629
        ],
        [
          1749513600000,
          82095
        ],
        [
          1749427200000,
          21365
        ],
        [
          1749340800000,
          51364
        ],
        [
          1749254400000,
          19559
        ],
        [
          1749168000000,
          3594
        ],
        [
          1749081600000,
          69732
        ],
        [
          1748995200000,
          31234
        ],
        [
          1748908800000,
          12911
        ],
        [
          1748822400000,
          48184
        ],
        [
          1748736000000,
          8067
        ],
        [
          1748649600000,
          38379
        ],
        [
          1748563200000,
          43720
        ],
        [
          1748476800000,
          28488
        ],
        [
          1748390400000,
          67844
        ],
        [
          1748304000000,
          3682
        ],
        [
          1748217600000,
          24699
        ],
        [
          1748131200000,
          80390
        ],
        [
          1748044800000,
          61503
        ],
        [
          1747958400000,
          70491
        ],
        [
          1747872000000,
          76123
        ],
        [
          1747785600000,
          49947
        ],
        [
          1747699200000,
          224
        ],
        [
          1747612800000,
          22292
        ],
        [
          1747526400000,
          36905
        ],
        [
          1747440000000,
          82735
        ],
        [
          1747353600000,
          35085
        ],
        [
          1747267200000,
          44964
        ],
        [
          1747180800000,
          56068
        ],
        [
          1747094400000,
          34034
        ],
        [
          1747008000000,
          69153
        ],
        [
          1746921600000,
          27810
        ],
        [
          1746835200000,
          17574
        ],
        [
          1746748800000,
          17903
        ],
        [
          1746662400000,
          74111
        ],
        [
          1746576000000,
          26070
        ],
        [
          1746489600000,
          13429
        ],
        [
          1746403200000,
          58811
        ],
        [
          1746316800000,
          76862
        ],
        [
          1746230400000,
          51921
        ],
        [
          1746144000000,
          19830
        ],
        [
          1746057600000,
          61039
        ],
        [
          1745971200000,
          70187
        ],
        [
          1745884800000,
          18864
        ],
        [
          1745798400000,
          37312
        ],
        [
          1745712000000,
          44795
        ],
        [
          1745625600000,
          42376
        ],
        [
          1745539200000,
          81894
        ],
        [
          1745452800000,
          18530
        ],
        [
          1745366400000,
          72842
        ],
        [
          1745280000000,
          22115
        ],
        [
          1745193600000,
          59345
        ],
        [
          1745107200000,
          11904
        ],
        [
          1745020800000,
          56786
        ],
        [
          1744934400000,
          9857
        ],
        [
          1744848000000,
          34318
        ],
        [
          1744761600000,
          70544
        ],
        [
          1744675200000,
          17583
        ],
        [
          1744588800000,
          67303
        ],
        [
          1744502400000,
          55263
        ],
        [
          1744416000000,
          20390
        ],
        [
          1744329600000,
          12065
        ],
        [
          1744243200000,
          56704
        ],
        [
          1744156800000,
          63842
        ],
        [
          1744070400000,
          18486
        ],
        [
          1743984000000,
          76133
        ],
        [
          1743897600000,
          11824
        ],
        [
          1743811200000,
          32835
        ],
        [
          1743724800000,
          51201
        ],
        [
          1743638400000,
          14914
        ],
        [
          1743552000000,
          86195
        ],
        [
          1743465600000,
          19447
        ],
        [
          1743379200000,
          61596
        ],
        [
          1743292800000,
          52162
        ],
        [
          1743206400000,
          7699
        ],
        [
          1743120000000,
          10784
        ],
        [
          1743033600000,
          52447
        ],
        [
          1742947200000,
          33983
        ],
        [
          1742860800000,
          41054
        ],
        [
          1742774400000,
          48355
        ],
        [
          1742688000000,
          21916
        ],
        [
          1742601600000,
          20630
        ],
        [
          1742515200000,
          20958
        ],
        [
          1742428800000,
          432
        ]
      ],
      mean: 0,
      total: 0,
    },
    {
      name: "John johns",
      data: [
        [
          1750982400000,
          42992
        ],
        [
          1750896000000,
          32849
        ],
        [
          1750809600000,
          85795
        ],
        [
          1750723200000,
          28898
        ],
        [
          1750636800000,
          14981
        ],
        [
          1750550400000,
          70097
        ],
        [
          1750464000000,
          71238
        ],
        [
          1750377600000,
          50707
        ],
        [
          1750291200000,
          70837
        ],
        [
          1750204800000,
          77499
        ],
        [
          1750118400000,
          897
        ],
        [
          1750032000000,
          70407
        ],
        [
          1749945600000,
          63448
        ],
        [
          1749859200000,
          5112
        ],
        [
          1749772800000,
          44467
        ],
        [
          1749686400000,
          41870
        ],
        [
          1749600000000,
          62267
        ],
        [
          1749513600000,
          58102
        ],
        [
          1749427200000,
          40386
        ],
        [
          1749340800000,
          52261
        ],
        [
          1749254400000,
          49793
        ],
        [
          1749168000000,
          18689
        ],
        [
          1749081600000,
          72585
        ],
        [
          1748995200000,
          80813
        ],
        [
          1748908800000,
          19990
        ],
        [
          1748822400000,
          8985
        ],
        [
          1748736000000,
          22733
        ],
        [
          1748649600000,
          33572
        ],
        [
          1748563200000,
          19788
        ],
        [
          1748476800000,
          50414
        ],
        [
          1748390400000,
          31278
        ],
        [
          1748304000000,
          2993
        ],
        [
          1748217600000,
          18558
        ],
        [
          1748131200000,
          75653
        ],
        [
          1748044800000,
          65965
        ],
        [
          1747958400000,
          52025
        ],
        [
          1747872000000,
          64005
        ],
        [
          1747785600000,
          64043
        ],
        [
          1747699200000,
          25377
        ],
        [
          1747612800000,
          13275
        ],
        [
          1747526400000,
          41332
        ],
        [
          1747440000000,
          84810
        ],
        [
          1747353600000,
          80673
        ],
        [
          1747267200000,
          44010
        ],
        [
          1747180800000,
          72064
        ],
        [
          1747094400000,
          43412
        ],
        [
          1747008000000,
          36982
        ],
        [
          1746921600000,
          40391
        ],
        [
          1746835200000,
          67586
        ],
        [
          1746748800000,
          8010
        ],
        [
          1746662400000,
          26664
        ],
        [
          1746576000000,
          35812
        ],
        [
          1746489600000,
          19324
        ],
        [
          1746403200000,
          30866
        ],
        [
          1746316800000,
          36342
        ],
        [
          1746230400000,
          6504
        ],
        [
          1746144000000,
          37480
        ],
        [
          1746057600000,
          21852
        ],
        [
          1745971200000,
          7986
        ],
        [
          1745884800000,
          16587
        ],
        [
          1745798400000,
          4564
        ],
        [
          1745712000000,
          59150
        ],
        [
          1745625600000,
          82416
        ],
        [
          1745539200000,
          13701
        ],
        [
          1745452800000,
          80632
        ],
        [
          1745366400000,
          59523
        ],
        [
          1745280000000,
          79980
        ],
        [
          1745193600000,
          34224
        ],
        [
          1745107200000,
          81938
        ],
        [
          1745020800000,
          25924
        ],
        [
          1744934400000,
          45415
        ],
        [
          1744848000000,
          29875
        ],
        [
          1744761600000,
          61407
        ],
        [
          1744675200000,
          26238
        ],
        [
          1744588800000,
          7768
        ],
        [
          1744502400000,
          1737
        ],
        [
          1744416000000,
          23120
        ],
        [
          1744329600000,
          44656
        ],
        [
          1744243200000,
          40776
        ],
        [
          1744156800000,
          75205
        ],
        [
          1744070400000,
          11670
        ],
        [
          1743984000000,
          55279
        ],
        [
          1743897600000,
          8860
        ],
        [
          1743811200000,
          67739
        ],
        [
          1743724800000,
          48693
        ],
        [
          1743638400000,
          33506
        ],
        [
          1743552000000,
          30594
        ],
        [
          1743465600000,
          52454
        ],
        [
          1743379200000,
          19482
        ],
        [
          1743292800000,
          79795
        ],
        [
          1743206400000,
          71033
        ],
        [
          1743120000000,
          30097
        ],
        [
          1743033600000,
          13521
        ],
        [
          1742947200000,
          25661
        ],
        [
          1742860800000,
          9512
        ],
        [
          1742774400000,
          51977
        ],
        [
          1742688000000,
          1701
        ],
        [
          1742601600000,
          8510
        ],
        [
          1742515200000,
          63716
        ],
        [
          1742428800000,
          67820
        ]
      ],
      mean: 0,
      total: 0,
    },
    {
      name: 'Boo Bar',
      data: [
        [
          1750982400000,
          14314
        ],
        [
          1750896000000,
          25241
        ],
        [
          1750809600000,
          15902
        ],
        [
          1750723200000,
          45404
        ],
        [
          1750636800000,
          82948
        ],
        [
          1750550400000,
          6980
        ],
        [
          1750464000000,
          14022
        ],
        [
          1750377600000,
          37544
        ],
        [
          1750291200000,
          36338
        ],
        [
          1750204800000,
          65286
        ],
        [
          1750118400000,
          75300
        ],
        [
          1750032000000,
          9480
        ],
        [
          1749945600000,
          17944
        ],
        [
          1749859200000,
          53087
        ],
        [
          1749772800000,
          21938
        ],
        [
          1749686400000,
          51449
        ],
        [
          1749600000000,
          45122
        ],
        [
          1749513600000,
          5969
        ],
        [
          1749427200000,
          43365
        ],
        [
          1749340800000,
          45011
        ],
        [
          1749254400000,
          61392
        ],
        [
          1749168000000,
          60660
        ],
        [
          1749081600000,
          35122
        ],
        [
          1748995200000,
          86310
        ],
        [
          1748908800000,
          32558
        ],
        [
          1748822400000,
          34389
        ],
        [
          1748736000000,
          21317
        ],
        [
          1748649600000,
          538
        ],
        [
          1748563200000,
          49856
        ],
        [
          1748476800000,
          32244
        ],
        [
          1748390400000,
          60659
        ],
        [
          1748304000000,
          5973
        ],
        [
          1748217600000,
          30339
        ],
        [
          1748131200000,
          27586
        ],
        [
          1748044800000,
          46580
        ],
        [
          1747958400000,
          50329
        ],
        [
          1747872000000,
          77058
        ],
        [
          1747785600000,
          51183
        ],
        [
          1747699200000,
          1322
        ],
        [
          1747612800000,
          29933
        ],
        [
          1747526400000,
          29037
        ],
        [
          1747440000000,
          24691
        ],
        [
          1747353600000,
          84161
        ],
        [
          1747267200000,
          80984
        ],
        [
          1747180800000,
          85099
        ],
        [
          1747094400000,
          30418
        ],
        [
          1747008000000,
          23625
        ],
        [
          1746921600000,
          49074
        ],
        [
          1746835200000,
          68592
        ],
        [
          1746748800000,
          57995
        ],
        [
          1746662400000,
          39873
        ],
        [
          1746576000000,
          77359
        ],
        [
          1746489600000,
          2344
        ],
        [
          1746403200000,
          72528
        ],
        [
          1746316800000,
          80007
        ],
        [
          1746230400000,
          54474
        ],
        [
          1746144000000,
          7071
        ],
        [
          1746057600000,
          30973
        ],
        [
          1745971200000,
          82431
        ],
        [
          1745884800000,
          74223
        ],
        [
          1745798400000,
          9530
        ],
        [
          1745712000000,
          46059
        ],
        [
          1745625600000,
          27631
        ],
        [
          1745539200000,
          65706
        ],
        [
          1745452800000,
          85944
        ],
        [
          1745366400000,
          27914
        ],
        [
          1745280000000,
          56618
        ],
        [
          1745193600000,
          35702
        ],
        [
          1745107200000,
          69209
        ],
        [
          1745020800000,
          72427
        ],
        [
          1744934400000,
          49141
        ],
        [
          1744848000000,
          52023
        ],
        [
          1744761600000,
          18485
        ],
        [
          1744675200000,
          14096
        ],
        [
          1744588800000,
          78469
        ],
        [
          1744502400000,
          30544
        ],
        [
          1744416000000,
          36776
        ],
        [
          1744329600000,
          54943
        ],
        [
          1744243200000,
          49710
        ],
        [
          1744156800000,
          61554
        ],
        [
          1744070400000,
          82324
        ],
        [
          1743984000000,
          65443
        ],
        [
          1743897600000,
          329
        ],
        [
          1743811200000,
          67414
        ],
        [
          1743724800000,
          38580
        ],
        [
          1743638400000,
          79539
        ],
        [
          1743552000000,
          77668
        ],
        [
          1743465600000,
          9188
        ],
        [
          1743379200000,
          74765
        ],
        [
          1743292800000,
          10605
        ],
        [
          1743206400000,
          6027
        ],
        [
          1743120000000,
          54414
        ],
        [
          1743033600000,
          56438
        ],
        [
          1742947200000,
          80268
        ],
        [
          1742860800000,
          71095
        ],
        [
          1742774400000,
          48023
        ],
        [
          1742688000000,
          32572
        ],
        [
          1742601600000,
          82871
        ],
        [
          1742515200000,
          12881
        ],
        [
          1742428800000,
          85592
        ]
      ],
      mean: 0,
      total: 0,
    },
    {
      name: 'Benny Ar',
      data: [
        [
          1750982400000,
          28936
        ],
        [
          1750896000000,
          42267
        ],
        [
          1750809600000,
          84761
        ],
        [
          1750723200000,
          68470
        ],
        [
          1750636800000,
          80564
        ],
        [
          1750550400000,
          37227
        ],
        [
          1750464000000,
          19652
        ],
        [
          1750377600000,
          49217
        ],
        [
          1750291200000,
          26668
        ],
        [
          1750204800000,
          26364
        ],
        [
          1750118400000,
          52520
        ],
        [
          1750032000000,
          72255
        ],
        [
          1749945600000,
          7940
        ],
        [
          1749859200000,
          41137
        ],
        [
          1749772800000,
          47684
        ],
        [
          1749686400000,
          15237
        ],
        [
          1749600000000,
          30629
        ],
        [
          1749513600000,
          82095
        ],
        [
          1749427200000,
          21365
        ],
        [
          1749340800000,
          51364
        ],
        [
          1749254400000,
          19559
        ],
        [
          1749168000000,
          3594
        ],
        [
          1749081600000,
          69732
        ],
        [
          1748995200000,
          31234
        ],
        [
          1748908800000,
          12911
        ],
        [
          1748822400000,
          48184
        ],
        [
          1748736000000,
          8067
        ],
        [
          1748649600000,
          38379
        ],
        [
          1748563200000,
          43720
        ],
        [
          1748476800000,
          28488
        ],
        [
          1748390400000,
          67844
        ],
        [
          1748304000000,
          3682
        ],
        [
          1748217600000,
          24699
        ],
        [
          1748131200000,
          80390
        ],
        [
          1748044800000,
          61503
        ],
        [
          1747958400000,
          70491
        ],
        [
          1747872000000,
          76123
        ],
        [
          1747785600000,
          49947
        ],
        [
          1747699200000,
          224
        ],
        [
          1747612800000,
          22292
        ],
        [
          1747526400000,
          36905
        ],
        [
          1747440000000,
          82735
        ],
        [
          1747353600000,
          35085
        ],
        [
          1747267200000,
          44964
        ],
        [
          1747180800000,
          56068
        ],
        [
          1747094400000,
          34034
        ],
        [
          1747008000000,
          69153
        ],
        [
          1746921600000,
          27810
        ],
        [
          1746835200000,
          17574
        ],
        [
          1746748800000,
          17903
        ],
        [
          1746662400000,
          74111
        ],
        [
          1746576000000,
          26070
        ],
        [
          1746489600000,
          13429
        ],
        [
          1746403200000,
          58811
        ],
        [
          1746316800000,
          76862
        ],
        [
          1746230400000,
          51921
        ],
        [
          1746144000000,
          19830
        ],
        [
          1746057600000,
          61039
        ],
        [
          1745971200000,
          70187
        ],
        [
          1745884800000,
          18864
        ],
        [
          1745798400000,
          37312
        ],
        [
          1745712000000,
          44795
        ],
        [
          1745625600000,
          42376
        ],
        [
          1745539200000,
          81894
        ],
        [
          1745452800000,
          18530
        ],
        [
          1745366400000,
          72842
        ],
        [
          1745280000000,
          22115
        ],
        [
          1745193600000,
          59345
        ],
        [
          1745107200000,
          11904
        ],
        [
          1745020800000,
          56786
        ],
        [
          1744934400000,
          9857
        ],
        [
          1744848000000,
          34318
        ],
        [
          1744761600000,
          70544
        ],
        [
          1744675200000,
          17583
        ],
        [
          1744588800000,
          67303
        ],
        [
          1744502400000,
          55263
        ],
        [
          1744416000000,
          20390
        ],
        [
          1744329600000,
          12065
        ],
        [
          1744243200000,
          56704
        ],
        [
          1744156800000,
          63842
        ],
        [
          1744070400000,
          18486
        ],
        [
          1743984000000,
          76133
        ],
        [
          1743897600000,
          11824
        ],
        [
          1743811200000,
          32835
        ],
        [
          1743724800000,
          51201
        ],
        [
          1743638400000,
          14914
        ],
        [
          1743552000000,
          86195
        ],
        [
          1743465600000,
          19447
        ],
        [
          1743379200000,
          61596
        ],
        [
          1743292800000,
          52162
        ],
        [
          1743206400000,
          7699
        ],
        [
          1743120000000,
          10784
        ],
        [
          1743033600000,
          52447
        ],
        [
          1742947200000,
          33983
        ],
        [
          1742860800000,
          41054
        ],
        [
          1742774400000,
          48355
        ],
        [
          1742688000000,
          21916
        ],
        [
          1742601600000,
          20630
        ],
        [
          1742515200000,
          20958
        ],
        [
          1742428800000,
          432
        ]
      ],
      mean: 0,
      total: 0,
    },
  ]
}

export default function Rank() {
  const { data } = SAMPLE
  for (let props of data) {
    props.data = props.data.sort(([a], [b]) => a - b).slice(-30)
    props.total = props.data.reduce((a, [_, b]) => a + b, 0)
    props.mean = Math.round(10 * props.total / (props.data.length * 864)) / 10
  }
  data.sort((a, b) => b.mean - a.mean)
  return (
    <Card>
      <div className="flex flex-col">
        {data.map((props, i) => {
          return (
            <div key={i} className="relative">
              {i > 0 && <hr></hr>}
              {i === 0 && <Crown className="absolute -top-2 -left-2 -rotate-12 drop-shadow fill-yellow-500 stroke-yellow-500" />}
              {i === 1 && <Crown className="absolute -top-2 -left-2 -rotate-12 drop-shadow fill-slate-500 stroke-slate-500" />}
              {i === 2 && <Crown className="absolute -top-2 -left-2 -rotate-12 drop-shadow fill-yellow-800 stroke-yellow-800" />}
              <RankCard {...props} />
            </div>
          )
        })}
      </div>
    </Card>
  )
}

interface RankCardProps {
  name: string
  data: [number, number][] // [ts, secs]
  mean: number
  total: number
}

const chartConfig = {
  detox: {
    label: "Detox",
    color: "#2b7fff",
  },
} satisfies ChartConfig

function RankCard({ name, data, mean, total }: RankCardProps) {
  const chartData = data.map(([ts, detox]) => ({ ts, detox }))
  const [active, setActive] = useState(false)
  return (
    <div className="flex flex-col gap-1 px-2 py-1 cursor-pointer" onClick={() => setActive(!active)}>
      <div className="flex gap-2 p-1">
        <div className="flex flex-col p-1 flex-[1]">
          <div className="font-bold text-sm whitespace-nowrap overflow-hidden">
            {name}
          </div>
          <div className="text-zinc-500 text-xs whitespace-nowrap overflow-hidden">
            {Math.round(total / 360) / 10}h 
          </div>
        </div>
        <div className="flex justify-start flex-[2] bg-[#aaccff] rounded-lg my-2">
          <div className="h-full" style={{ width: `${mean}%` }}>
            <div className="bg-[#2b7fff] text-white rounded-lg flex items-center justify-start px-2 font-bold text-sm h-full">
              {mean}%
            </div>
          </div>
        </div>
      </div>
      {active && (
        <ChartContainer config={chartConfig} className="grow aspect-auto h-16">
          <AreaChart
            accessibilityLayer
            data={chartData}
          >
            <CartesianGrid vertical={false} />
            <ChartTooltip
              cursor
              content={<ChartTooltipContent labelKey="ts" labelFormatter={(_, s) => tsFormatter(s[0].payload.ts)} formatter={(value, name) => {
                return (
                  <div className="text-muted-foreground flex min-w-[130px] items-center text-xs">
                    {chartConfig[name as keyof typeof chartConfig]?.label ||
                      name}
                    <div className="text-foreground ml-auto flex items-baseline gap-0.5 font-mono font-medium tabular-nums">
                      {typeof value === 'number' ? Math.round(value / 360) / 10 : value}
                      <span className="text-muted-foreground font-normal">
                        h
                      </span>
                    </div>
                  </div>
                )
              }} />}
            />
            <Area
              dataKey="detox"
              type="natural"
              fill="#2b7fff"
              fillOpacity={0.4}
              stroke="#2b7fff"
              max={86400}
            />
          </AreaChart>
        </ChartContainer>
      )}
    </div>
  )
}